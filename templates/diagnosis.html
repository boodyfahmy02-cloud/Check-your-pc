<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Check Your PC — Diagnosis</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
    <style>
      .header { display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:18px; z-index:4; position:relative; }
      .header .logo-box { display:flex; align-items:center; gap:12px; }
      .header .logo-square { width:46px; height:46px; border-radius:8px; background: linear-gradient(135deg,#06b6d4,#06d6a0); display:flex; align-items:center; justify-content:center; color:#012; font-weight:700; box-shadow:0 4px 18px rgba(2,6,12,0.6); }
      .header-logo { width:140px; height:auto; object-fit:contain; filter: drop-shadow(0 6px 18px rgba(0,0,0,0.45)); }
      @media (max-width:720px) { .header { flex-direction:column; align-items:flex-start; gap:8px; } .header-logo { width:110px; align-self:flex-end; } }
    </style>
  </head>

  <body class="thunder">

    <!-- Thunder / Rain canvases: MUST be before .container to appear behind UI -->
    <canvas id="canvas1"></canvas>
    <canvas id="canvas2"></canvas>
    <canvas id="canvas3"></canvas>

    <div class="container py-4">
      <div class="header">
        <div class="logo-box">
          <div class="logo-square">CY</div>
          <div>
            <h1 class="mb-1" style="color:#e6f7ff;">Check Your PC — Expert System</h1>
            <div class="small-note">Smart diagnostics for slow PC, WiFi, overheating, BSOD...</div>
          </div>
        </div>

        <img src="/static/images/logo.png" alt="Logo" class="header-logo">
      </div>

      <div class="card p-3 mb-4">
        <h5>Symptoms</h5>
        <div>
          <label class="form-check"><input type="checkbox" class="form-check-input" value="slow_pc"> Slow PC</label>
          <label class="form-check"><input type="checkbox" class="form-check-input" value="loud_fan"> Loud Fan</label>
          <label class="form-check"><input type="checkbox" class="form-check-input" value="frequent_crashes"> Frequent Crashes</label>
          <label class="form-check"><input type="checkbox" class="form-check-input" value="no_internet"> No Internet</label>
          <label class="form-check"><input type="checkbox" class="form-check-input" value="boot_loop"> Boot Loop</label>
          <label class="form-check"><input type="checkbox" class="form-check-input" value="blue_screen"> Blue Screen</label>
        </div>

        <h5 class="mt-3">System Metrics</h5>
        <div class="row">
          <div class="col-sm-4">
            <label>RAM %</label>
            <input id="ram" type="number" class="form-control" value="85">
          </div>
          <div class="col-sm-4">
            <label>Disk %</label>
            <input id="disk" type="number" class="form-control" value="90">
          </div>
          <div class="col-sm-4">
            <label>Temperature (°C)</label>
            <input id="temp" type="number" class="form-control" value="90">
          </div>
        </div>

        <div class="row mt-2">
          <div class="col-sm-4">
            <label>Network state</label>
            <select id="netstate" class="form-select">
              <option value="wired">Wired</option>
              <option value="wifi">WiFi</option>
              <option value="offline">Offline</option>
            </select>
          </div>

          <div class="col-sm-4">
            <label>IP valid?</label>
            <select id="ipvalid" class="form-select">
              <option value="true">Yes</option>
              <option value="false">No</option>
            </select>
          </div>

          <div class="col-sm-4">
            <label>Recent driver install?</label>
            <select id="recentdriver" class="form-select">
              <option value="false">No</option>
              <option value="true">Yes</option>
            </select>
          </div>
        </div>

        <div class="mt-3">
          <label>BSOD Code (optional)</label>
          <input id="bsodcode" class="form-control" placeholder="MEMORY_MANAGEMENT">
        </div>

        <button id="diagnoseBtn" class="btn btn-primary mt-3">Diagnose</button>
      </div>

      <!-- ================= EXPLANATION FACILITY ================= -->
<div id="result" class="card mt-3" style="display:none;">
  <div class="card-body">
    <h5 class="card-title">Diagnosis Result</h5>

    <p><strong>Problem:</strong> <span id="exp-problem"></span></p>
    <p><strong>Explanation:</strong> <span id="exp-explanation"></span></p>

    <p><strong>Recommendations:</strong></p>
    <ul id="exp-recommend"></ul>

    <p><strong>Confidence:</strong> <span id="exp-confidence"></span></p>
  </div>
</div>

<!-- ================= RULES PANEL ================= -->
<div id="rules-panel" class="card mt-3">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="card-title mb-0">Expert Rules (Visi)</h5>
      <button id="toggle-rules" class="btn btn-outline-secondary btn-sm">Hide</button>
    </div>

    <div id="rules-list" style="margin-top:12px; max-height:380px; overflow:auto;">
      <!-- rules will be injected here by JS -->
    </div>
  </div>
</div>

    </div>

    <script src="/static/script.js"></script>
    <script src="/static/custom-select.js"></script>
    <script src="/static/thunder.js"></script>
  </body>
</html>
